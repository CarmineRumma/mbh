{% extends 'MBHPackageBundle:Package:layout.html.twig' %}

{% set small_title = "список броней" %}

{% block content %}

        {% include 'MBHPackageBundle:Package:listTabs.html.twig' with {'active': 1 } %}

<div class="tab-content">
    <div class="tab-pane active" id="home">

    <div class="well" id="package-table-filter-well">
        <form id="package-table-filter" class="form-inline" role="form">
            <div class="input">
                <i class="fa fa-calendar" title='Даты' data-toggle='tooltip'></i>&nbsp <input type="text" id="package-filter-begin" class="datepicker package-filter begin-datepiker form-control input-sm" data-date-format="dd.mm.yyyy">
            </div>
            <div class="input">
                - &nbsp <input type="text" id="package-filter-end" class="datepicker package-filter end-datepiker form-control input-sm" data-date-format="dd.mm.yyyy">
            </div>
            <div class="input">
                <select id="package-filter-dates" class="package-filter form-control input-sm">
                    <option value="begin">Заезд</option>
                    <option value="end">Выезд</option>
                    <option value="createdAt">Создание</option>
                </select>
            </div>
            <div class="input">
                <i class="fa fa-home" title='Тип номера' data-toggle='tooltip'></i>&nbsp  <select data-placeholder="Тип номера" id="package-filter-roomType" class="package-filter form-control input-sm">
                    <option></option>
                    {% for roomType in roomTypes %}
                    <option value="{{ roomType.id }}">{{ roomType.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="input">
                <i class="fa fa-paper-plane" title='Тип брони' data-toggle='tooltip'></i>&nbsp <select data-placeholder="Тип брони" id="package-filter-status" class="package-filter form-control input-sm plain-html">
                    <option></option>
                    {% for key, status in statuses %}
                        <option value="{{ key }}" data-class="{{ status.class }}">{{ status.title }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="input">
                <i class="fa fa-ruble" title='Статус оплаты' data-toggle='tooltip'></i>&nbsp <select data-placeholder="Статус оплаты" id="package-filter-paid" class="package-filter form-control input-sm">
                    <option></option>
                    <option value="paid">Оплачена</option>
                    <option value="part">Частично оплачена</option>
                    <option value="not_paid">Не оплачена</option>
                </select>
            </div>
            <div class="input">
                <i class="fa fa-check" title='Подтверждена?' data-toggle='tooltip'></i>&nbsp <select data-placeholder="Подтверждена?" id="package-filter-confirmed" class="package-filter form-control input-sm">
                    <option></option>
                    <option value="1">Да</option>
                    <option value="0">Нет</option>
                </select>
            </div>
            {% if environment == 'prod' %}
            <div class="input">
                <i class="fa fa-trash-o" title='Удаленные?' data-toggle='tooltip'></i>&nbsp <input type="checkbox" id="package-filter-deleted" class="package-filter"  value="1" />
            </div>
            {% endif %}

            <input type="hidden" id="package-filter-quick-link" value="">
        </form>

    </div>


        <ul id="package-table-quick-links">
            <li><a class="btn btn-xs btn-default" data-value="begin-today" href="#">заезд сегодня (<span class="package-table-quick-links-count">{{ count.begin_today|default('-') }}</span>)</a></li>
            <li><a class="btn btn-xs btn-default" data-value="begin-tomorrow" href="#">заезд завтра (<span class="package-table-quick-links-count">{{ count.begin_tomorrow|default('-') }}</span>)</a></li>
            <li><a class="btn btn-xs btn-default" data-value="live-now" href="#">живут сейчас (<span class="package-table-quick-links-count">{{ count.live_now|default('-') }}</span>)</a></li>
            <li class="package-table-quick-links-margin"><a class="btn btn-xs btn-default" data-value="without-approval" href="#">не подтвержденные (<span class="package-table-quick-links-count">{{ count.without_approval|default('-') }}</span>)</a></li>
            <li><a class="btn btn-xs btn-default" data-value="without-accommodation" href="#">без размещения (<span class="package-table-quick-links-count">{{ count.without_accommodation|default('-') }}</span>)</a></li>
            <li><a class="btn btn-xs btn-default" data-value="not-paid" href="#">не оплаченные (<span class="package-table-quick-links-count">{{ count.not_paid|default('-') }}</span>)</a></li>
            <li><a class="btn btn-xs btn-default" data-value="not-paid-time" href="#">просроченные (<span class="package-table-quick-links-count">{{ count.not_paid_time|default('-') }}</span>)</a></li>
            <li><a class="btn btn-xs btn-default" data-value="not-check-in" href="#">не заехавшие (<span class="package-table-quick-links-count">{{ count.not_check_in|default('-') }}</span>)</a></li>
            <li class="package-table-quick-links-margin"><a class="btn btn-xs btn-default" data-value="created-by" href="#">мои брони (<span class="package-table-quick-links-count">{{ count.created_by|default('-') }}</span>)</a></li>
            <li><a class="btn btn-xs btn-default" id="package-table-quick-reset" href="#"><i class="fa fa-ban"></i></a></li>
        </ul>

    <table id="package-table"
           class="package-table table not-auto-datatable table-striped table-hover table-condensed table-icons table-actions">
        <thead>
        <tr>
            <th class="td-xxs"></th>
            <th class="td-xs">#</th>
            <th class="td-xs">Заказ</th>
            <th class="td-md">Даты</th>
            <th>Размещение</th>
            <th class="td-md">Гости</th>
            <th class="td-sm">Стоимость</th>
            <th class="td-sm">Создана</th>
            <th class="td-sm"></th>
        </tr>
        </thead>
        <tbody>

        <tbody>
    </table>

    </div>
</div>
            
{% include 'MBHBaseBundle:Actions:list.html.twig' with {'route': 'package_search', 'icon': 'fa-search', 'text': 'Подбор'} %}
{% endblock content %}
