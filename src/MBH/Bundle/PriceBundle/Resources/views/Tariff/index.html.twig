{% extends 'MBHPriceBundle:Tariff:layout.html.twig' %}

{% set small_title = "список" %}
{% set layout = 'box' %}

{% block content %}

    {% embed 'MBHBaseBundle:Partials:embed_filter.html.twig' with {'id': 'tariff-filter-widget'} %}
        {% block content %}
            {{ form_start(form, {attr: {class: 'form-inline filter-form icon-label-form', id: 'tariff-form'}}) }}
            <div class="form-group">
                <div class="input">
                    <i class="fa fa-calendar" title='{{ 'tariffs.filter.small_title'|trans({},'MBHPriceBundle') }}' data-toggle='tooltip'></i>&nbsp
                    <input type="text" id="form_begin" class="datepicker mbh-daterangepicker room-overview-filter begin-datepicker not-set-date form-control input-sm" data-date-format="dd.mm.yyyy" value="{{ form_widget(form.begin) is empty ? 'now'|date('d.m.Y') : form_widget(form.begin) }}">
                </div>
                <div class="input hidden">
                    - &nbsp
                    <input type="text" id="form_end" class="datepicker mbh-daterangepicker room-overview-filter end-datepicker not-set-date form-control input-sm" data-date-format="dd.mm.yyyy" value="{{ form_widget(form.end) is empty ? 'now'|date_modify("+45 days")|date('d.m.Y') : form_widget(form.end) }}">
                </div>
                <div class="input">
                    <label><i class="fa fa-chevron-down " title='{{ 'tariff.filter.status'|trans({}, 'MBHPriceBundle') }}' data-toggle='tooltip'></i></label>
                    {{ form_widget(form.isOnline) }}
                </div>
                <div class="input">
                    <label><i class="fa fa-asterisk" title='{{ 'tariff.filter.state'|trans({}, 'MBHPriceBundle') }}' data-toggle='tooltip'></i></label>
                    {{ form_widget(form.isEnabled) }}
                </div>
                {{ form_widget(form._token) }}
                {{ form_rest(form.search) }}
            </div>
            {{ form_end(form, {render_rest: false}) }}
        {% endblock %}
    {% endembed %}

    <table id="tariff-table" class="tariff-table table table-striped table-hover table-condensed table-icons table-actions not-auto-datatable">
        <thead>
        <tr>
            <th class="td-xs"></th>
            <th>{{ 'tariff.table.name'|trans({}, 'MBHPriceBundle') }}</th>
            <th>{{ 'tariff.table.base'|trans({}, 'MBHPriceBundle') }}</th>
            <th class="td-xs text-center">
                {{ 'tariff.table.children'|trans({}, 'MBHPriceBundle') }}
            </th>
            <th class="td-xs text-center">
                {{ 'tariff.table.infant'|trans({}, 'MBHPriceBundle') }}
            </th>
            <th class="td-md text-center">
                {{ 'tariff.table.terms'|trans({}, 'MBHPriceBundle') }}
            </th>
            <th class="td-sm text-center">
                {{ 'tariff.table.default'|trans({}, 'MBHPriceBundle') }}
            </th>
            <th class="td-sm text-center">
                {{ 'tariff.table.online'|trans({}, 'MBHPriceBundle') }}
            </th>
            <th class="td-sm"></th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    {% include 'MBHBaseBundle:Actions:list.html.twig' with {'route': 'tariff_new', 'role': 'TARIFF'} %}

{% endblock %}
