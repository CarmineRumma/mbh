{% spaceless %}
{% if hotels|length %}
<form id="mbh-form" method="get" action="{{ config.result.url }}">

    <h3>{{ 'views.api.form.rooms_reservation'|trans({}, 'MBHOnlineBundle') }}</h3>

    {% if hotels|length > 1 %}
    <div class="mbh-form-row">
        <label for="mbh-form-hotel">{{ 'views.api.form.hotel'|trans({}, 'MBHOnlineBundle') }}</label>
        <select name="hotel" id="mbh-form-hotel">
            <option></option>
            {% for hotel in hotels %}<option value="{{ hotel.id }}">{{ hotel.localeTitle(app.request.locale) }}</option>{% endfor %}
        </select>
    </div>
    {% endif %}

    <div class="mbh-form-row">
        <label for="mbh-form-begin"> {{ 'views.api.form.check_in_date'|trans({}, 'MBHOnlineBundle') }}</label>
        <input type="text" id="mbh-form-begin" name="begin" required value="{{ 'now'|date('d.m.Y') }}">
    </div>

    <div class="mbh-form-row" {% if formConfig.nights %}style='display: none;'{% endif %}>
        <label for="mbh-form-end"> {{ 'views.api.form.check_out_date'|trans({}, 'MBHOnlineBundle') }}</label>
        <input type="text" id="mbh-form-end" name="end" required value="{{ 'now'|date_modify('+1 day')|date('d.m.Y') }}">
    </div>

    {% if formConfig.nights %}
    <div class="mbh-form-row">
        <label for="mbh-form-nights"> {{ 'views.api.form.nights_amount'|trans({}, 'MBHOnlineBundle') }}</label>
        <select name="nights" id="mbh-form-nights" required>
        {% for i in 1..100 %}
            <option value="{{ i }}">{{ i }}</option>
        {% endfor %}
        </select>
    </div>
    {% endif %}

    {% if formConfig.roomTypes and hotels|length <= 1 and hotels|first.roomTypes|length %}
    <div class="mbh-form-row">
        <label for="mbh-form-roomType"> {{ 'views.api.form.room_type'|trans({}, 'MBHOnlineBundle') }}</label>
        <select id="mbh-form-roomType" name="roomType">
            <option></option>
            {% for roomType in hotels|first.roomTypes %}<option value="{{ roomType.id }}">{{ roomType.localeTitle(app.request.locale) }}</option>{% endfor %}
        </select>
    </div>
    {% endif %}

    {% if formConfig.tourists %}
        <div id="mbh-form-adults-children-wrapper">
            <div class="mbh-form-row">
                <label for="mbh-form-adults"> {{ 'views.api.form.adults'|trans({}, 'MBHOnlineBundle') }}</label>
                <input type="number" id="mbh-form-adults" name="adults"  value="1">
            </div>

            <div class="mbh-form-row">
                <label for="mbh-form-children"> {{ 'views.api.form.children'|trans({}, 'MBHOnlineBundle') }}</label>
                <input type="number" id="mbh-form-children" name="children" value="0">
            </div>
        </div>
        <div id="mbh-form-adults-children-clear"></div>
    {% endif %}

    <div class="mbh-form-row" id="mbh-form-submit-wrapper">
        <button type="submit" id="mbh-form-submit">{{ 'views.api.form.find_room'|trans({}, 'MBHOnlineBundle') }}</button>
    </div>

    <div id="mbh-logo-link-wrapper">
        <a id="mbh-logo-link" href="http://maxi-booking.ru/" target="_blank"> {{ 'views.api.form.online_reservation_system'|trans({}, 'MBHOnlineBundle') }}</a>
    </div>

    <div id="mbh-actions-wrapper"></div>

    <input type="hidden" id="mbh-form-locale" name="locale" value="{{ app.request.locale }}">
</form>
{% endif %}
{% endspaceless %}

