{
    "draw": "{{ draw }}",
    "recordsTotal": {{ recordsTotal }},
    "recordsFiltered": {{ recordsTotal }},
    "data": [
    {% for task in tasks %}
        [
            "<div class='text-center'><i class='fa fa-tasks'></i></div>",
            "<a rel='main' href='{{ path('task_edit', { 'id': task.id }) }}'>{{ task.number }}</a>",
            "{% if statuses[task.status] is defined %}<span class='text-{{ statuses[task.status].class }}'>{{ statuses[task.status].title }}</span>{% endif %}",
            "{{ task.type.title }}",
            "{{ priorities[task.priority] }}",
            "{{ task.room.roomType.title }}",
            "{% if task.performer %}{{ task.performer.fullName }} {% endif %}",
            "{% if task.role %} {{ task.role|trans({}, 'MBHUserBundleRoles') }} {% endif %}",
            "{{ task.createdAt|date('d.m.Y') }}",
            "{{ task.updatedAt|date('d.m.Y') }}",
            "<div class='table-actions-td text-right'>{% if task.status == 'open' %}<a href='{{ path('task_change_status', { 'id': task.id, status: 'process' }) }}' class='btn btn-info btn-xs' title='{{ "process"|trans({}, "MBHPackageBundle") }}' data-toggle='tooltip'><i class='fa fa-briefcase'></i></a>{% endif %}{% if task.status == 'process' %}<a href='{{ path('task_change_status', { 'id': task.id, status: 'closed' }) }}' class='btn btn-primary btn-xs' title='{{ "closed"|trans({}, "MBHPackageBundle") }}' data-toggle='tooltip'><i class='fa fa-coffee'></i></a>{% endif %}{% if app.security.granted('ROLE_TASK_MANAGER') %}<a href='{{ path('task_edit', { 'id': task.id }) }}' class='btn btn-success btn-xs' title='{{ "source.index.edit_record"|trans({}, "MBHPackageBundle") }}' data-toggle='tooltip'><i class='fa fa-pencil-square-o'></i></a><a href='{{ path('task_delete', { 'id': task.id }) }}' class='btn btn-danger btn-xs delete-link' title='{{ "source.index.delete_record"|trans({}, "MBHPackageBundle") }}' data-toggle='tooltip'><i class='fa fa-trash-o'></i></a>{% endif %}</div>"
        ] {% if loop.index != tasks|length %} , {% endif %}
    {% endfor %}
    ]
}